# Generated by lzctl {{ .Version }} â€” safe to edit
module "hub_network" {
  source  = "Azure/avm-res-network-virtualnetwork/azurerm"
  version = "0.7.0"

  name          = "{{ cafName "vnet" (slugify .Config.Metadata.Name) (regionShort .Config.Metadata.PrimaryRegion) }}"
  address_space = ["{{ .Config.Spec.Platform.Connectivity.Hub.AddressSpace }}"]
  location      = "{{ .Config.Spec.Platform.Connectivity.Hub.Region }}"
}

module "azure_firewall" {
  source  = "Azure/avm-res-network-azurefirewall/azurerm"
  version = "0.4.0"

  name     = "{{ cafName "fw" (slugify .Config.Metadata.Name) (regionShort .Config.Metadata.PrimaryRegion) }}"
  location = "{{ .Config.Spec.Platform.Connectivity.Hub.Region }}"
  sku_name = "{{ .Config.Spec.Platform.Connectivity.Hub.Firewall.SKU }}"
}
