# Generated by lzctl {{ .Version }} â€” safe to edit
module "hub_network" {
  source  = "Azure/avm-res-network-virtualnetwork/azurerm"
  version = "0.7.0"

  name          = "{{ cafName "vnet" (slugify .Config.Metadata.Name) (regionShort .Config.Metadata.PrimaryRegion) }}"
  address_space = ["{{ .Config.Spec.Platform.Connectivity.Hub.AddressSpace }}"]
  location      = "{{ .Config.Spec.Platform.Connectivity.Hub.Region }}"
}

resource "azurerm_route_table" "nva_routes" {
  name                = "{{ cafName "rt" (slugify .Config.Metadata.Name) (regionShort .Config.Metadata.PrimaryRegion) }}"
  location            = "{{ .Config.Spec.Platform.Connectivity.Hub.Region }}"
  resource_group_name = "{{ .Config.Spec.StateBackend.ResourceGroup }}"
}
